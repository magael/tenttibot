{% extends "layout.html" %} {% block body %} {% if current_user.id == author.id %}
<p>
  <a class="btn btn-outline-primary" href="{{ url_for('questions_form', subject_id=subject_id) }}" role="button">
    Add a question
  </a>
</p>
{% endif %} {% if current_user.id == author.id or admin %}
<p>
  <a class="btn btn-outline-dark" href="{{ url_for('subjects_subject', subject_id=subject_id) }}" role="button">
    Edit subject
  </a>
</p>
{% endif %}
<h2>
  {{ subject_name }}
</h2>
<p>
  By {{ author.username }}
</p>
<table>
  <tr>
    <th>Question</th>
    {% if current_user.id == author.id %}
    <th>Mastery</th>
    {% endif %}
  </tr>
  {% if questions is defined %} {% for question in questions %}
  <tr>
    <!--TODO: vertically rather than horizontally expanding text areas-->
    <td>{{ question.name }}</td>
    {% if current_user.id == author.id %}
    <td>{{ question.mastery }}</td>
    {% endif %} {% if current_user.id == author.id or admin %}
    <td>
      <form method="GET" action="{{ url_for('questions_question', subject_id=question.subject_id, question_id=question.id) }}">
        <input type="submit" value="Edit" />
      </form>
    </td>
    {% endif %}
  </tr>
  {% endfor %} {% endif %}
</table>
{% endblock %}