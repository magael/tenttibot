{% extends "layout.html" %} {% block body %}
<h2>
  {{ subject_name }}
</h2>
<form method="POST" action="{{ url_for('questions_edit', subject_id=question.subject.id, question_id=question.id) }}">
  <table>
    <tr>
      <td>
        {{ form.name.label }}
      </td>
      <td>
        {{ form.name(value=question.name)}}
      </td>
      <td>
        <ul>
          <!--BUG: showing errors not working.
            I guess redirecting to the form with the content from before submission erases them-->
          {% for error in form.name.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.mastered.label }}
      </td>
      <td>
        {{ form.mastered(checked=question.mastered, class_="form-control") }}
      </td>
    </tr>
    <tr>
      <td colspan="3">
        <input type="submit" value="Update question" />
      </td>
      <td>
        <a class="btn btn-outline-dark" href="{{ url_for('questions_index', subject_id=question.subject_id) }}" role="button">
          Back
        </a>
      </td>
    </tr>
</form>

<form method="POST" action="{{ url_for('questions_delete', subject_id=question.subject_id, question_id=question.id) }}">
  <input type="submit" value="Delete question" />
</form>
{% endblock %}