{% extends "layout.html" %} {% block body %} {% if not current_user.is_authenticated %}
<p>
  Welcome! <a href="{{ url_for('auth_login') }}">Sign in</a> to start using the app.
</p>
{% else %}
<p>
  <a class="btn btn-outline-primary" href="{{ url_for('subjects_form') }}" role="button">
    Create a new subject
  </a>
</p>

<!--
  TODO: hide link/button if not admin 
  (something like (wave-percent) if current_user.get_role() != ['ADMIN'] (percent-wave) )
  or pass as params from root views.py
-->
<p>
  <a class="btn btn-outline-dark" href="{{ url_for ('users_index') }}" role="button">Users</a>
</p>
{% endif %}
<!--
  TODO: list separately "My subjects" and 10 most recent "Other user's subjects" + link to "all"
-->


<h2>Subjects</h2>

{% if subjects is defined %} {% for subject in subjects %}
<ul class="list-group">
  <li class="list-group-item d-flex justify-content-between align-items-center border border-light">
    <div class="col">
      <a href="{{ url_for('questions_index', subject_id=subject.id) }}">
        {{ subject.name }}
      </a>
    </div>
    <div class="col">
      <a href="{{ url_for('questions_index', subject_id=subject.id) }}" class="badge badge-info">
        {{subject.questions}}
      </a>
    </div>
  </li>
</ul>
{% endfor %} {% endif %} {% endblock %}